<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OVA Landing Clone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
      body {
        margin: 0;
        font-family: "Poppins", sans-serif;
        background-color: black;
        color: white;
      }
      html {
        scroll-behavior: smooth;
      }
      #transitionOverlay {
        transition: opacity 0.8s ease;
        pointer-events: none;
      }
      .sidebar-dot {
        transition: color 0.6s cubic-bezier(0.8, 0, 0.2, 1),
          border 0.6s cubic-bezier(0.8, 0, 0.2, 1),
          font-weight 0.5s cubic-bezier(0.8, 0, 0.2, 1),
          background 0.6s cubic-bezier(0.8, 0, 0.2, 1);
      }
      .sidebar-dot.active {
        color: #6366f1 !important; /* Tailwind indigo-400 */
        border-left-width: 4px !important;
        border-color: #6366f1 !important;
        font-weight: bold !important;
        background: linear-gradient(90deg, #6366f1 0%, transparent 100%);
      }
    </style>
  </head>
  <body class="relative min-h-screen">
    <div id="navbarContainer" class="fixed w-full z-[9999]"></div>
    <!-- Sidebar Navigation -->
    <aside
      id="mainSidebar"
      class="fixed right-8 top-1/4 z-30 flex flex-col space-y-2"
    >
      <a href="#section1" class="sidebar-dot">01</a>
      <a href="#section2" class="sidebar-dot">02</a>
      <a href="#section3" class="sidebar-dot">03</a>
      <a href="#section4" class="sidebar-dot">04</a>
      <a href="#section5" class="sidebar-dot">05</a>
      <a href="#section6" class="sidebar-dot">06</a>
      <a href="#section7" class="sidebar-dot">07</a>
      <a href="#section8" class="sidebar-dot">08</a>
    </aside>

    <main id="snapContainer">
      <section
        id="section1"
        class="relative h-screen flex items-center justify-center overflow-hidden"
        style="
          background-image: url('./assets/images/slider-image-1.avif');
          background-size: cover;
          background-position: center;
        "
      >
        <div class="absolute inset-0 bg-black/40"></div>
        <div
          class="relative z-10 flex flex-col justify-center items-center text-center w-full h-full"
        >
          <div
            class="animatedText h-full w-full flex flex-col items-start justify-between pl-10 pt-28 pb-10 space-y-8"
          >
            <h1
              class="text-white text-5xl font-normal leading-tight drop-shadow-lg text-left"
              style="
                font-family: 'Neue Montreal', -apple-system, BlinkMacSystemFont,
                  'avenir next', avenir, 'segoe ui', 'helvetica neue', helvetica,
                  Cantarell, Ubuntu, roboto, noto, arial, sans-serif;
                font-weight: 400;
                font-size: 35px;
                line-height: 36px;
              "
            >
              <span class="line block"
                >By focusing on companies transforming</span
              >
              <span class="line block"
                >the digital landscape,
                <span class="text-gray-300 font-bold">OVA</span>
                identifies</span
              >
              <span class="line block">solutions capable of addressing </span>
              <span class="line block"
                >contemporary challenges and generating</span
              >
              <span class="line block"
                >significant and sustainable returns.</span
              >
            </h1>
            <div class="mt-8 flex flex-col">
              <h2
                class="font-bold text-2xl md:text-3xl text-left mb-2 tracking-wide text-white line block"
              >
                TECHNOLOGY
              </h2>
              <p
                class="text-white text-opacity-90 leading-tight max-w-lg text-left mx-auto line block"
              >
                OVA recognizes the exceptional potential of the technology
                sector where each breakthrough opens up promising investment
                opportunities.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Manifesto Section: Scaling Background & Cycling Text -->
      <section
        id="manifesto"
        class="relative flex items-center justify-center overflow-hidden"
        style="min-height: 100vh; height: 100vh"
      >
        <!-- Scalable background image  -->
        <div
          id="manifestoBg"
          class="absolute inset-0 will-change-transform"
          style="
            background-image: url('./assets/images/manifesto.avif');
            background-size: cover;
            background-position: center;
            transition: transform 0.4s cubic-bezier(0.77, 0, 0.18, 1),
              filter 0.4s;
          "
        ></div>
        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Content -->
        <div
          class="z-20 flex flex-col justify-center items-end w-full h-full pr-10 md:pr-24 lg:pr-40"
        >
          <div class="max-w-2xl text-right mt-20">
            <div
              class="flex gap-28 flex-col md:flex-row items-end justify-end mb-6"
            >
              <div class="flex flex-col items-end">
                <span
                  class="text-white text-xl font-normal tracking-wide"
                  style="font-family: 'Neue Montreal', sans-serif"
                  id="manifestoSubhead"
                >
                  OVA
                </span>
                <span
                  class="text-white text-[3.2rem] md:text-[4rem] leading-none font-semibold"
                  id="manifestoHeadline"
                  style="font-family: 'Neue Montreal', sans-serif"
                >
                  Invests
                </span>
              </div>
              <p
                class="text-white text-base text-left md:text-lg font-normal"
                id="manifestoPara"
                style="font-family: 'Neue Montreal', sans-serif"
              >
                In the most valuable, promising, and resilient assets.<br />
                The concept of "value" at OVA is fundamentally multidimensional.
              </p>
            </div>
            <div class="mt-48">
              <span
                class="font-bold text-white text-base md:text-lg"
                style="font-family: 'Neue Montreal', sans-serif"
              >
                Jean-Sébastien Bergeron
              </span>
              <br />
              <span
                class="text-white font-normal text-base"
                style="font-family: 'Neue Montreal', sans-serif"
              >
                CEO & founder
              </span>
            </div>
          </div>
        </div>
      </section>

      <!-- Since Section -->
      <section
        class="relative h-screen w-full flex items-center justify-center overflow-hidden"
        style="
          background: url('./assets/images/about-1.avif') center center / cover
            no-repeat;
        "
      >
        <!-- Optional subtle overlay for readability -->
        <div class="absolute inset-0 bg-black/20"></div>

        <div
          class="z-10 w-full flex flex-col items-center justify-center text-center"
        >
          <h1
            class="text-white text-5xl md:text-7xl font-normal"
            style="
              font-family: 'Neue Montreal', -apple-system, BlinkMacSystemFont,
                'avenir next', avenir, 'segoe ui', 'helvetica neue', helvetica,
                Cantarell, Ubuntu, roboto, noto, arial, sans-serif;
              font-weight: 400;
            "
          >
            Since<br />
            its creation,
          </h1>
        </div>
      </section>

      <!-- ded Section -->
      <section
        class="relative h-screen w-full flex items-center justify-center overflow-hidden"
        style="
          background: url('./assets/images/about-2.avif') center center / cover
            no-repeat;
        "
      >
        <!-- Overlay for readability -->
        <div class="absolute inset-0 bg-black/20"></div>

        <!-- Reveal Circle Mask -->
        <div
          id="circleRevealContainer"
          class="absolute inset-0 h-full w-full flex items-center justify-center z-30"
          style="
            clip-path: circle(0% at 50% 50%);
            transition: clip-path 1.3s cubic-bezier(0.76, 0, 0.24, 1);
            background: inherit;
          "
        >
          <div class="w-full h-full flex items-center justify-center">
            <div
              class="z-10 w-full flex flex-col items-center justify-center text-center"
            >
              <h2
                class="text-white text-3xl md:text-4xl lg:text-5xl font-normal max-w-xl mx-auto leading-normal"
                style="
                  font-family: 'Neue Montreal', -apple-system,
                    BlinkMacSystemFont, 'avenir next', avenir, 'segoe ui',
                    'helvetica neue', helvetica, Cantarell, Ubuntu, roboto, noto,
                    arial, sans-serif;
                  font-weight: 400;
                "
              >
                OVA is an investment fund dedicated to identifying and
                developing exceptional opportunities in strategic sectors.
                <span class="block mt-4"></span>
                Specialized in real estate, we have built a diversified
                portfolio worth over $200 million, including more than 500
                multi-residential units and a wide range of industrial
                properties.
                <span class="block mt-4"></span>
                Through proven value-creation strategies, we achieve steady
                growth while optimizing the use of minimal initial capital.
              </h2>
            </div>
          </div>
        </div>
      </section>
      <!-- Contact Us Section -->
      <section
        id="contact"
        class="relative h-screen min-h-[500px] w-full flex flex-col items-center justify-center overflow-hidden"
        style="background: url('./assets/images/contact.avif') center center / cover no-repeat"
      >
        <div class="absolute inset-0 bg-black/60"></div>
        <div
          class="relative z-10 flex flex-col items-center justify-center h-full w-full text-center"
        >
          <h1
            class="text-white text-5xl md:text-6xl font-normal mb-6 line block"
            style="font-family: 'Neue Montreal', sans-serif"
          >
            Contact Us
          </h1>
          <p
            class="text-white text-lg md:text-xl font-normal max-w-xl mx-auto mb-4"
            style="font-family: 'Neue Montreal', sans-serif "
          >
            Share your vision with us. <br />
            Together, let's explore how to transform your ideas into tangible
            opportunities.
          </p>
        </div>
      </section>

      <!-- Footer Section -->
      <footer
        class="w-full py-10 px-4 md:px-20 flex flex-col md:flex-row items-start md:items-center justify-between"
        style="background: linear-gradient(0deg, #715046 0%, #b28e77 100%)"
      >
        <div>
          <div
            class="text-white font-medium text-base md:text-lg text-right md:text-left mb-1"
            style="font-family: 'Neue Montreal', sans-serif"
          >
            5323 Rue Brebeuf,<br />
            Montréal, QC H2J 3L8
          </div>
        </div>
        <div
          class="flex flex-col items-end md:items-center md:flex-row md:space-x-2 mt-10 md:mt-0 space-y-2 md:space-y-0"
        >
          <a
            href="https://linkedin.com/"
            target="_blank"
            class="inline-block bg-[#333] rounded px-4 py-2 text-white font-semibold tracking-wide text-base hover:bg-[#444] transition mr-3"
            >LINKEDIN ↗</a
          >
          <a
            href="mailto:contact@ova.com"
            class="inline-block bg-[#333] rounded px-4 py-2 text-white font-semibold tracking-wide text-base hover:bg-[#444] transition"
            >CONTACT ↗</a
          >
        </div>
      </footer>
    </main>

    <div
      id="transitionOverlay"
      class="fixed inset-0 bg-black opacity-0 z-[9999]"
    ></div>

    <div
      id="transitionFade"
      class="fixed inset-0 bg-black pointer-events-none opacity-0 z-[9999]"
      style="transition: opacity 0.6s cubic-bezier(0.76, 0, 0.24, 1)"
    ></div>

    <script>
      //load navbar

      function loadComponent(path, targetId) {
        fetch(path)
          .then((res) => {
            if (!res.ok) throw new Error(`Failed to load ${path}`);
            return res.text();
          })
          .then((html) => {
            document.getElementById(targetId).innerHTML = html;
          })
          .catch((err) => console.error(err));
      }

      // Load navbar at page load
      document.addEventListener("DOMContentLoaded", function () {
        loadComponent("./navbar.html", "navbarContainer");
      });

      // GSAP Animations
      gsap.registerPlugin(ScrollTrigger);
      // Animate lines from below per section
      function animateSection(section) {
        const lines = section.querySelectorAll(".line");
        gsap.fromTo(
          lines,
          { opacity: 0, y: 60 },
          {
            opacity: 1,
            y: 0,
            duration: 0.8,
            ease: "power3.out",
            stagger: 0.18,
            scrollTrigger: {
              trigger: section,
              start: "top center+=80",
              toggleActions: "play none none reverse",
            },
          }
        );
      }
      document.querySelectorAll(".animatedText").forEach((animated) => {
        animateSection(animated.closest("section"));
      });

      // Sidebar dot styling
      document.querySelectorAll(".sidebar-dot").forEach((dot) => {
        dot.classList.add(
          "text-white",
          "text-sm",
          "transition",
          "duration-200",
          "hover:font-bold",
          "hover:text-indigo-400",
          "pl-3",
          "border-l",
          "border-white",
          "border-opacity-50",
          "py-1"
        );
      });

      // Sidebar highlight on scroll using ScrollTrigger
      let sectionIds = [
        "section1",
        "section2",
        "section3",
        "section4",
        "section5",
        "section6",
        "section7",
        "section8",
      ];
      let dots = document.querySelectorAll(".sidebar-dot");

      sectionIds.forEach((id, idx) => {
        ScrollTrigger.create({
          trigger: "#" + id,
          start: "top center",
          end: "bottom center",
          onEnter: () => setSidebarActive(idx),
          onEnterBack: () => setSidebarActive(idx),
        });
      });

      function setSidebarActive(idx) {
        dots.forEach((dot, i) => {
          dot.classList.toggle("active", i === idx);
        });
      }

      const sidebar = document.querySelector("aside");

      ScrollTrigger.create({
        trigger: "#manifesto",
        start: "top top",
        end: "+=300%",
        onEnter: () => (sidebar.style.opacity = 0),
        onEnterBack: () => (sidebar.style.opacity = 0),
        onLeaveBack: () => (sidebar.style.opacity = 1),
        onLeave: () => (sidebar.style.opacity = 0), // stays hidden after manifesto
      });

      // Fade overlay on click (for direct navigation, optional)
      const overlay = document.getElementById("transitionOverlay");
      dots.forEach((dot, idx) => {
        dot.addEventListener("click", (e) => {
          e.preventDefault();
          overlay.style.opacity = 1;
          setTimeout(() => {
            document
              .getElementById(sectionIds[idx])
              .scrollIntoView({ behavior: "smooth" });
            setTimeout(() => {
              overlay.style.opacity = 0;
            }, 400);
          }, 350);
        });
      });

      // Remove overlay on scroll/interaction
      window.addEventListener("scroll", () => {
        overlay.style.opacity = 0;
      });

      // Reference overlay and all snap sections
      const fadeDiv = document.getElementById("transitionFade");
      const allSections = Array.from(
        document.querySelectorAll("#snapContainer > section")
      );

      // Animate fade between each section
      allSections.forEach((section, idx) => {
        if (idx === 0) return; // Skip first so the page opens clean

        // Fade in just before leaving previous section
        ScrollTrigger.create({
          trigger: section,
          start: "top 92%",
          end: "top 82%",
          onEnter: () => {
            fadeDiv.style.opacity = 1;
          },
        });

        // Fade out as soon as new section is revealed
        ScrollTrigger.create({
          trigger: section,
          start: "top 81%",
          end: "top 64%",
          onEnter: () => {
            fadeDiv.style.opacity = 0;
          },
        });
      });

      //  9: sectoin == Menifesto section animation (if needed)
      // List of text states you want to cycle through as you scroll in the manifesto section
      const manifestoContent = [
        {
          headline: "Invests",
          para: 'In the most valuable, promising, and resilient assets.<br>The concept of "value" at OVA is fundamentally multidimensional.',
          subhead: "OVA",
        },
        {
          headline: "Elevates",
          para: "Redefining progress by nurturing innovation,<br>OVA creates opportunity beyond traditional boundaries.",
          subhead: "OVA",
        },
        {
          headline: "Transforms",
          para: "Committed to building a sustainable and<br>remarkable legacy for generations to come.",
          subhead: "OVA",
        },
      ];

      document.addEventListener("DOMContentLoaded", function () {
        // Scaling background logic
        gsap.registerPlugin(ScrollTrigger);

        // Pin the section
        ScrollTrigger.create({
          trigger: "#manifesto",
          start: "top top",
          end: "+=300%", // Adjust if you want more/less scroll
          pin: true,
          pinSpacing: true,
          anticipatePin: 1,
          onEnter: () => {
            document.body.style.overflowX = "hidden";
          },
          onLeave: () => {
            document.body.style.overflowX = "";
          },
          onLeaveBack: () => {
            document.body.style.overflowX = "";
          },
        });

        // Background scale bound to scroll progress within section
        gsap.to("#manifestoBg", {
          scale: 1.22,
          filter: "brightness(0.85) blur(2px)",
          scrollTrigger: {
            trigger: "#manifesto",
            start: "top top",
            end: "+=300%",
            scrub: 1,
          },
        });

        // Text cycling logic: calculate which step of scroll, swap h1/p accordingly
        const headline = document.getElementById("manifestoHeadline");
        const para = document.getElementById("manifestoPara");
        const subhead = document.getElementById("manifestoSubhead");
        const total = manifestoContent.length;
        ScrollTrigger.create({
          trigger: "#manifesto",
          start: "top top",
          end: "+=300%",
          scrub: 0.2,
          onUpdate: (self) => {
            const p = self.progress;
            // Split scroll region into n equal parts
            let i = Math.floor(p * total);
            if (i >= total) i = total - 1;
            // Animate swap with fade
            if (headline.dataset.state != i || para.dataset.state != i) {
              gsap.to([headline, para], {
                opacity: 0,
                y: 40,
                duration: 0.3,
                onComplete: () => {
                  headline.innerText = manifestoContent[i].headline;
                  para.innerHTML = manifestoContent[i].para;
                  subhead.textContent = manifestoContent[i].subhead;
                  headline.dataset.state = para.dataset.state = i;
                  gsap.fromTo(
                    [headline, para],
                    { y: 40, opacity: 0 },
                    { opacity: 1, y: 0, duration: 0.4, overwrite: true }
                  );
                },
              });
            }
          },
        });
      });

      //Circle animation
      gsap.to("#circleRevealContainer", {
        clipPath: "circle(120% at 50% 50%)", // ensure bigger than screen for full reveal
        ease: "power2.out",
        duration: 1.3,
        scrollTrigger: {
          trigger: "#circleRevealContainer",
          start: "top 80%", // reveal begins when section enters
          end: "top 40%",
          toggleActions: "play none none reverse",
          scrub: false,
        },
      });
    </script>
  </body>
</html>
